@model ProyectoNominaINTBII.Models.UserModel

<div class="edit-user-info-container">
    <h2>Editar Información de Usuario</h2>

    <div class="search-bar-edit mb-4">
        <button class="btn-search-edit"><i class="fas fa-search"></i> Buscar</button>
        <input type="text" placeholder="Buscar por ID o Nombre" class="search-input-edit" />
    </div>

    <!-- Deshabilitamos la validación HTML5 con novalidate -->
<form id="userInfoForm" asp-action="EditAllUsersInfo" asp-controller="Admin" method="post" novalidate>
        <div class="row">
            <div class="col-md-6 form-group">
                <label for="Id">ID:</label>
                <input type="text" id="Id" name="Id" value="@Model.Id" readonly class="form-control custom-input" placeholder="ID del usuario" />
            </div>
            <div class="col-md-6 form-group">
                <label for="Nombre">Nombre Completo:</label>
                <input type="text" id="Nombre" name="Nombre" value="@Model.Nombre" class="form-control custom-input" placeholder="Ingrese el nombre completo" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="NumeroEmpleado">Número de Empleado:</label>
                <input type="text" id="NumeroEmpleado" name="NumeroEmpleado" value="@Model.NumeroEmpleado" class="form-control custom-input" placeholder="Ingrese un valor numérico" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="RFC">RFC:</label>
                <input type="text" id="RFC" name="RFC" value="@Model.RFC" class="form-control custom-input" placeholder="Ejemplo: ABCD123456789" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="CURP">CURP:</label>
                <input type="text" id="CURP" name="CURP" value="@Model.CURP" class="form-control custom-input" placeholder="Ejemplo: ABCD123456HDFR01" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="RegimenFiscal">Régimen Fiscal:</label>
                <input type="text" id="RegimenFiscal" name="RegimenFiscal" value="@Model.RegimenFiscal" class="form-control custom-input" placeholder="Ingrese el régimen fiscal" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="NoIMSS">Número IMSS:</label>
                <input type="text" id="NoIMSS" name="NoIMSS" value="@Model.NoIMSS" class="form-control custom-input" placeholder="Ejemplo: 12345678901" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="FechaInicio">Fecha de Inicio:</label>
                <input type="date" id="FechaInicio" name="FechaInicio" value="@Model.FechaInicio.ToString("yyyy-MM-dd")" class="form-control custom-input" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Regimen">Régimen:</label>
                <input type="text" id="Regimen" name="Regimen" value="@Model.Regimen" class="form-control custom-input" placeholder="Ingrese el régimen" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="TipoJornada">Tipo de Jornada:</label>
                <input type="text" id="TipoJornada" name="TipoJornada" value="@Model.TipoJornada" class="form-control custom-input" placeholder="Ejemplo: Diurna" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="SBC">SBC:</label>
                <input type="number" step="0.01" id="SBC" name="SBC" value="@Model.SBC" class="form-control custom-input" placeholder="Ingrese un valor numérico" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="SDI">SDI:</label>
                <input type="number" step="0.01" id="SDI" name="SDI" value="@Model.SDI" class="form-control custom-input" placeholder="Ingrese un valor numérico" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Ejercicio">Ejercicio:</label>
                <input type="text" id="Ejercicio" name="Ejercicio" value="@Model.Ejercicio" class="form-control custom-input" placeholder="Ingrese el ejercicio" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Folio">Folio:</label>
                <input type="text" id="Folio" name="Folio" value="@Model.Folio" class="form-control custom-input" placeholder="Ingrese el folio" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="PeriodoPago">Periodo de Pago:</label>
                <input type="text" id="PeriodoPago" name="PeriodoPago" value="@Model.PeriodoPago" class="form-control custom-input" placeholder="Ejemplo: Mensual" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="FechaPago">Fecha de Pago:</label>
                <input type="date" id="FechaPago" name="FechaPago" value="@Model.FechaPago.ToString("yyyy-MM-dd")" class="form-control custom-input" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Periodicidad">Periodicidad:</label>
                <input type="text" id="Periodicidad" name="Periodicidad" value="@Model.Periodicidad" class="form-control custom-input" placeholder="Ejemplo: Mensual" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="DiasPagados">Días Pagados:</label>
                <input type="number" id="DiasPagados" name="DiasPagados" value="@Model.DiasPagados" class="form-control custom-input" placeholder="Ingrese un valor numérico" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Faltas">Faltas:</label>
                <input type="number" id="Faltas" name="Faltas" value="@Model.Faltas" class="form-control custom-input" placeholder="Ingrese un valor numérico" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Telefono">Teléfono:</label>
                <input type="text" id="Telefono" name="Telefono" value="@Model.Telefono" class="form-control custom-input" placeholder="Ejemplo: 123-456-7890" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Email">Correo Electrónico:</label>
                <input type="email" id="Email" name="Email" value="@Model.Email" class="form-control custom-input" placeholder="Ejemplo: correo@ejemplo.com" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Departamento">Departamento:</label>
                <input type="text" id="Departamento" name="Departamento" value="@Model.Departamento" class="form-control custom-input" placeholder="Ingrese el departamento" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Puesto">Puesto:</label>
                <input type="text" id="Puesto" name="Puesto" value="@Model.Puesto" class="form-control custom-input" placeholder="Ingrese el puesto" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="SalarioDiario">Salario Diario:</label>
                <input type="number" step="0.01" id="SalarioDiario" name="SalarioDiario" value="@Model.SalarioDiario" class="form-control custom-input" placeholder="Ingrese un valor numérico" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Username">Username:</label>
                <input type="text" id="Username" name="Username" value="@Model.Username" class="form-control custom-input" placeholder="Ingrese el username" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Password">Password:</label>
                <input type="password" id="Password" name="Password" value="@Model.Password" class="form-control custom-input" placeholder="Ingrese el password" required />
            </div>

            <div class="col-md-6 form-group">
                <label for="Role">Role:</label>
                <input type="text" id="Role" name="Role" value="@Model.Role" class="form-control custom-input" placeholder="Ejemplo: Admin o Empleado" required />
            </div>
            <div class="col-md-4 form-group">
            <label for="Estado">Estado:</label>
            @Html.DropDownList("IsActive", (IEnumerable<SelectListItem>)ViewBag.EstadoOptions, new { @class = "form-control custom-select", id = "Estado", required = "required" })
            </div>
        </div>
        <div class="edit-boton-container mt-4">
            <a asp-action="ListUsers" asp-controller="Admin" class="edit-btn-secondary">
                <i class="fas fa-arrow-left icon-spacing"></i> Regresar
            </a>
            <button type="submit" class="edit-btn-primary">
                <i class="fas fa-save icon-spacing"></i> Guardar Cambios
            </button>
        </div>
</form>

<!-- Contenedor de notificación -->
<div id="notification" class="notification"></div>

<script>
    function showNotification(message, type = 'warning') {
        const notification = document.getElementById("notification");
        notification.textContent = message;

        notification.classList.remove("success", "error", "warning"); // Limpiar clases anteriores
        notification.classList.add("show", type);

        setTimeout(() => {
            notification.classList.remove("show");
        }, 3000); // La notificación desaparecerá después de 3 segundos
    }

    function validateForm() {
        let isValid = true;
        document.querySelectorAll("#userInfoForm input[required]").forEach(input => {
            if (!input.value) {
                isValid = false;
                input.classList.add("incomplete"); // Agrega una clase para destacar los campos vacíos
            } else {
                input.classList.remove("incomplete"); // Remueve la clase si el campo está completo
            }
        });

        if (!isValid) {
            showNotification("Por favor, complete todos los campos requeridos.", "warning");
        } else {
            showNotification("Información actualizada correctamente.", "success");
        }

        return isValid; // Solo permitirá el envío del formulario si todos los campos están completos
    }
</script>

<style>

/* Ajusta el ancho del campo select para que coincida con los otros campos */
.custom-select {
    padding: 8px 12px;
    font-size: 1em;
    line-height: normal;
    width: 100%; /* Hace que el campo ocupe el 100% del ancho del contenedor */
    max-width: 100%; /* Asegura que no sobrepase el contenedor */
    border: 1px solid #007bff;
    border-radius: 5px;
    appearance: none;
    background-color: #fff;
    box-sizing: border-box; /* Asegura que el padding no afecte el ancho */
}

/* Opcional: Personalización del ícono de dropdown en algunos navegadores */
.custom-select::after {
    content: '▼';
    font-size: 0.75em;
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
   pointer-events: none;
}

    /* Estilos para la notificación en diferentes posiciones */
    .notification {
        position: fixed;
        top: 20px;
        left: 20px;
        padding: 15px;
        border-radius: 5px;
        color: #fff;
        font-weight: bold;
        font-size: 14px;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 9999;
    }

    .notification.show {
        opacity: 1;
    }

    /* Estilos de colores para diferentes tipos de notificación */
    .notification.warning {
        background-color: #f39c12; /* Naranja para advertencia */
    }

    .notification.success {
        background-color: #2ecc71; /* Verde para éxito */
    }

    /* Estilos para campos incompletos */
    .incomplete {
        border-color: #f39c12;
    }

    /* Estilos específicos para los botones en esta vista */
    .edit-boton-container {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
        margin-bottom: 40px;
    }

    .edit-btn-primary,
    .edit-btn-secondary {
        padding: 10px 20px;
        font-size: 1em;
        font-weight: bold;
        border-radius: 5px;
        display: inline-flex;
        align-items: center;
        color: white;
        text-decoration: none;
        transition: background-color 0.3s ease;
    }

    .edit-btn-primary {
        background-color: #007bff;
        border: none;
    }

    .edit-btn-primary:hover {
        background-color: #4da3ff;
        text-decoration: underline;
    }

    .edit-btn-secondary {
        background-color: #6c757d;
        border: none;
    }

    .edit-btn-secondary:hover {
        background-color: #d3d3d3;
        color: white;
    }

    /* Espaciado para los íconos en los botones */
    .icon-spacing {
        margin-right: 8px;
    }

    .btn-search-edit {
        background-color: #007bff;
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 20px;
        cursor: pointer;
        font-weight: bold;
        display: inline-flex;
        align-items: center;
    }

    .btn-search-edit i {
        margin-right: 8px;
    }

    .btn-search-edit:hover {
        background-color: #0056b3;
    }

    .custom-input {
        border: 1px solid #007bff;
        border-radius: 5px;
    }

    .edit-user-info-container {
        max-width: 1000px;
        margin: 0 auto;
        background-color: #f9f9f9;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    h2.text-center {
        font-weight: bold;
        color: #333;
    }
</style>